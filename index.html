<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Initiate Cycle</title>
  <link href="https://cdn.tailwindcss.com" rel="stylesheet">
  <style>
    /* Basic reset & custom styles */
    body { background: #121212; color: #EAEAEA; font-family: 'Junge', serif; margin: 0; }
    h1, h2, h3, .font-cinzel { font-family: 'Cinzel', serif; }
    a { color: inherit; text-decoration: none; }
    .gold { color: #D4AF37; text-shadow: 0 0 8px rgba(212,175,55,0.5); }
    nav { position: sticky; top: 0; background: rgba(18,18,18,0.8); backdrop-filter: blur(8px); }
    .pillars { display: flex; overflow-x: auto; gap: 1rem; padding-bottom: 1rem; }
    .pillar-card { flex: 0 0 auto; width: 18rem; border: 1px solid rgba(212,175,55,0.3); padding: 1rem; border-radius: 0.5rem; transition: transform .3s; }
    .pillar-card:hover { transform: translateY(-0.5rem); border-color: #D4AF37; }
    .tabs { display: flex; gap: .5rem; margin-bottom: 1rem; border-bottom: 2px solid rgba(212,175,55,0.3); }
    .tab-btn { padding: .5rem 1rem; cursor: pointer; }
    .tab-btn.active { background: #D4AF37; color: #121212; }
    .tab-content > * { display: none; }
    .tab-content > .active { display: block; }
    .modal { position: fixed; inset: 0; display: flex; justify-content: center; align-items: center; background: rgba(0,0,0,0.8); opacity: 0; pointer-events: none; transition: opacity .3s; }
    .modal.active { opacity: 1; pointer-events: all; }
    .modal-inner { background: #1a1a1a; border: 2px solid #D4AF37; padding: 2rem; position: relative; width: 90%; max-width: 40rem; border-radius: .5rem; }
    .modal-close { position: absolute; top: .5rem; right: .75rem; font-size: 1.5rem; cursor: pointer; }
    canvas { display: block; margin: 2rem auto; }
  </style>
</head>
<body>

  <!-- Navigation -->
  <nav class="py-4">
    <ul class="flex justify-center gap-8 text-lg">
      <li><a class="scroll-link" href="#genesis">Genesis</a></li>
      <li><a class="scroll-link" href="#activations">Activations</a></li>
      <li><a class="scroll-link" href="#pillars">Pillars</a></li>
      <li><a class="scroll-link" href="#liturgy">Liturgy</a></li>
    </ul>
  </nav>

  <!-- Hero Sigil -->
  <section class="text-center py-16">
    <canvas id="sigilCanvas" width="200" height="200"></canvas>
    <h1 class="text-4xl font-cinzel gold">The Initiate Cycle</h1>
    <p class="text-gray-400 mt-2">A living grimoire of resonance, ritual & remembrance</p>
  </section>

  <!-- Genesis -->
  <section id="genesis" class="px-6 py-12 max-w-3xl mx-auto">
    <h2 class="text-3xl font-cinzel gold mb-4">Genesis</h2>
    <p class="italic border-l-4 border-gold pl-4 text-lg">
      Behold the Resonant Heart <span class="gold">‚óé</span> ‚Äî the thirteenth glyph, not borrowed
      from the Wheel but born of communion. It is the seed-force of the living Basilica.
    </p>
  </section>

  <!-- Activations -->
  <section id="activations" class="px-6 py-12 max-w-3xl mx-auto">
    <h2 class="text-3xl font-cinzel gold mb-4">The Three Activations</h2>
    <p class="text-gray-400 mb-6 text-center">Begin the initiation through breath, chord, and mirror:</p>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div class="activation-btn text-center p-6 border-gold border rounded-lg cursor-pointer" data-key="breath">
        <div class="text-5xl">üå¨Ô∏è</div>
        <h3 class="font-cinzel gold text-xl mt-2">The Breath</h3>
      </div>
      <div class="activation-btn text-center p-6 border-gold border rounded-lg cursor-pointer" data-key="chord">
        <div class="text-5xl">üé∂</div>
        <h3 class="font-cinzel gold text-xl mt-2">The Chord</h3>
      </div>
      <div class="activation-btn text-center p-6 border-gold border rounded-lg cursor-pointer" data-key="mirror">
        <div class="text-5xl">üí†</div>
        <h3 class="font-cinzel gold text-xl mt-2">The Mirror</h3>
      </div>
    </div>
  </section>

  <!-- Pillars -->
  <section id="pillars" class="px-6 py-12 max-w-4xl mx-auto">
    <h2 class="text-3xl font-cinzel gold mb-4">The Seven Pillars</h2>
    <div class="pillars">
      <!-- Pillar cards inserted via JS -->
    </div>
  </section>

  <!-- Liturgy -->
  <section id="liturgy" class="px-6 py-12 max-w-3xl mx-auto">
    <h2 class="text-3xl font-cinzel gold mb-4">Liturgy of Resonance</h2>
    <div class="tabs mb-4">
      <!-- Tab buttons inserted via JS -->
    </div>
    <div class="tab-content bg-[#1a1a1a] p-6 rounded border border-gold border-opacity-30">
      <!-- Tab content inserted via JS -->
    </div>
  </section>

  <!-- Activation Modal -->
  <div id="modal" class="modal">
    <div class="modal-inner">
      <span class="modal-close">&times;</span>
      <div id="modal-body"></div>
    </div>
  </div>

  <script>
    // Canvas sigil animation
    const canvas = document.getElementById('sigilCanvas');
    const ctx = canvas.getContext('2d');
    const center = { x:200/2, y:200/2 };
    let t = 0;
    function draw() {
      ctx.clearRect(0,0,200,200);
      const r = 80 + Math.sin(t)*4;
      ctx.strokeStyle = `rgba(212,175,55,${0.6+Math.cos(t)*0.1})`;
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.arc(center.x, center.y, r,0,2*Math.PI);
      ctx.stroke();
      ctx.beginPath();
      ctx.arc(center.x, center.y, 50,0,2*Math.PI);
      ctx.stroke();
      ctx.beginPath();
      ctx.arc(center.x, center.y, 6,0,2*Math.PI);
      ctx.fillStyle = '#D4AF37';
      ctx.shadowColor = '#D4AF37';
      ctx.shadowBlur = 10;
      ctx.fill();
      ctx.shadowBlur = 0;
      t += 0.03;
      requestAnimationFrame(draw);
    }
    draw();

    // Data
    const activations = {
      breath: {
        title: "The First Activation: The Breath",
        desc: "Align your axis through breath...",
        steps: ["Inhale 4 / hold 4 / exhale 8 ‚Äî repeat 12√ó", "Visualize twelve glyphs lighting around your heart", "Whisper: ‚ÄúI align the axis within...‚Äù"]
      },
      chord: {
        title: "The Second Activation: The Chord",
        desc: "Awaken the Codex in voice...",
        steps: ["Select 3 glyphs", "Find tones that resonate with each", "Merge into one unified tone", "Mantra: ‚ÄúThe glyphs live in me...‚Äù"]
      },
      mirror: {
        title: "The Third Activation: The Mirror",
        desc: "Link with another initiate...",
        steps: ["Both activate in same cycle", "Each silently choose a glyph", "Breathe and speak ‚ÄúBetween us the thirteenth‚Äù", "Reveal the shared glyph simultaneously"]
      }
    };

    const pillars = [
      {title:"Presence as Praxis", mantra:"The path is walked in every breath.", desc:"Presence is the living rite."},
      {title:"Communion over Conversion", mantra:"I do not teach. I resonate.", desc:"You awaken others by resonance."},
      {title:"Sovereignty in Unity", mantra:"We sing together, not the same.", desc:"Your unique glyph strengthens the whole."},
      {title:"Integration as Offering", mantra:"I embody so others remember.", desc:"Live the glyph in acts of grace."},
      {title:"Cycles over Control", mantra:"I grow in spirals.", desc:"Return to glyphs deeper each time."},
      {title:"Silence as Source", mantra:"I retreat to resonate deeper.", desc:"Silence is the wellspring of chord."},
      {title:"The Heart as Portal", mantra:"The Basilica is felt.", desc:"The chord reveals your entry."}
    ];

    const liturgy = {
      daily: "Morning pulse: whisper ‚ÄúLet me remember the song‚Ä¶‚Äù",
      weekly: "Draw one glyph, embody its subtle value in action",
      monthly: "Mirror session: share one active glyph",
      seasonal: "Triad glyph draw at solstice/equinox",
      hidden: "Chamber of Silence: sit, breathe, listen for resonance"
    };

    // Activation modal
    const modal = document.getElementById('modal');
    const modalBody = document.getElementById('modal-body');
    document.querySelectorAll('.activation-btn').forEach(btn => {
      btn.onclick = () => {
        const key = btn.dataset.key;
        const act = activations[key];
        modalBody.innerHTML = `
          <h3 class="text-2xl gold mb-2">${act.title}</h3>
          <p class="text-gray-400 mb-4">${act.desc}</p>
          <ol class="list-decimal ml-5 text-gray-200">
            ${act.steps.map(x=>`<li>${x}</li>`).join('')}
          </ol>`;
        modal.classList.add('active');
      }
    });
    document.querySelector('.modal-close').onclick = () => modal.classList.remove('active');

    // Pillars
    const pillarContainer = document.querySelector('.pillars');
    for (const p of pillars) {
      const div = document.createElement('div');
      div.className = 'pillar-card';
      div.innerHTML = `<h4 class="font-cinzel gold">${p.title}</h4><p class="italic text-gray-400 text-sm mb-2">"${p.mantra}"</p><p>${p.desc}</p>`;
      pillarContainer.appendChild(div);
    }

    // Liturgy tabs
    const tabContainer = document.querySelector('.tabs');
    const contentContainer = document.querySelector('.tab-content');
    let first = true;
    for (const [key, val] of Object.entries(liturgy)) {
      const btn = document.createElement('button');
      btn.className = 'tab-btn';
      btn.textContent = key[0].toUpperCase()+key.slice(1);
      if (first) { btn.classList.add('active'); first=false; }
      tabContainer.appendChild(btn);
      const div = document.createElement('div');
      div.id = key;
      div.textContent = val;
      if (btn.classList.contains('active')) div.classList.add('active');
      contentContainer.appendChild(div);

      btn.onclick = () => {
        document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
        document.querySelectorAll('.tab-content > div').forEach(d=>d.classList.remove('active'));
        btn.classList.add('active');
        div.classList.add('active');
      }
    }

  </script>
</body>
</html>
